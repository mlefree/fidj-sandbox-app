{"version":3,"sources":["webpack:///src/app/signin/signin.module.ts","webpack:///src/app/signin/signin.page.ts","webpack:///src/app/signin/signin.page.scss","webpack:///src/app/signin/signin-routing.module.ts","webpack:///src/app/signin/signin.page.html"],"names":["SigninPageModule","imports","declarations","SigninPage","router","fidjService","asUser","isLoggedIn","navigateByUrl","console","log","email","pwd","loginError","login","error","JSON","stringify","Object","getOwnPropertyNames","loginAsDemo","event","forgotPasswordRequest","selector","template","routes","path","component","SigninPageRoutingModule","forChild","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UAgBaA,gBAAgB;AAAA;AAAA,O;;AAAhBA,sBAAgB,6DAT5B,+DAAS;AACNC,eAAO,EAAE,CACL,0DADK,EAEL,4DAFK,EAGL,0DAHK,EAIL,8EAJK,CADH;AAONC,oBAAY,EAAE,CAAC,uDAAD;AAPR,OAAT,CAS4B,GAAhBF,gBAAgB,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCPAG,UAAU;AAOnB,4BACYC,MADZ,EAEYC,WAFZ,EAEoC;AAAA;;AADxB,eAAAD,MAAA,GAAAA,MAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AAER,eAAKC,MAAL,GAAc,IAAd;AACH;;AAZkB;AAAA;AAAA,iBAcnB,oBAAW;AACP,gBAAI,KAAKD,WAAL,CAAiBE,UAAjB,EAAJ,EAAmC;AAC/B,qBAAO,KAAKH,MAAL,CAAYI,aAAZ,CAA0B,KAA1B,CAAP;AACH,aAFD,MAEO;AACHC,qBAAO,CAACC,GAAR,CAAY,eAAZ;AACH;AACJ;AApBkB;AAAA;AAAA,iBAsBb,eAAMC,KAAN,EAAaC,GAAb,EAAkB;;;;;;AACpB,2BAAKC,UAAL,GAAkB,EAAlB;;;AAEI,6BAAM,KAAKR,WAAL,CAAiBS,KAAjB,CAAuBH,KAAvB,EAA8BC,GAA9B,CAAN;;;;AACA,6BAAM,KAAKR,MAAL,CAAYI,aAAZ,CAA0B,KAA1B,CAAN;;;;;;;;;AAEA,2BAAKK,UAAL,GAAkB,iBAAlB;AACAJ,6BAAO,CAACM,KAAR,CAAcC,IAAI,CAACC,SAAL,cAAoBC,MAAM,CAACC,mBAAP,aAApB,CAAd;;;;;;;;;AAEP;AA/BkB;AAAA;AAAA,iBAiCb,uBAAc;;;;;;;;AAEZ,6BAAM,KAAKd,WAAL,CAAiBe,WAAjB,EAAN;;;;AACA,6BAAM,KAAKhB,MAAL,CAAYI,aAAZ,CAA0B,KAA1B,CAAN;;;;;;;;;AAEAC,6BAAO,CAACM,KAAR;;;;;;;;;AAEP;AAxCkB;AAAA;AAAA,iBA0Cb,wBAAeM,KAAf,EAAsB;;;;;;AACxB,2BAAKf,MAAL,GAAc,CAAC,KAAKA,MAApB;;;;;;;;;AACH;AA5CkB;AAAA;AAAA,iBA8Cb,gBAAOK,KAAP,EAAsB;;;;;;AACxB,0BAAI,CAACA,KAAL,EAAY;AACR,6BAAKE,UAAL,GAAkB,6DAAlB;AACH;;;;AAGG,6BAAM,KAAKR,WAAL,CAAiBiB,qBAAjB,CAAuCX,KAAvC,CAAN;;;AACA,2BAAKE,UAAL,GAAkB,EAAlB;;;;;;;AAEAJ,6BAAO,CAACM,KAAR;;;;;;;;;AAEP;AAzDkB;;AAAA;AAAA,S;;;;gBAPf;;gBADA;;;;AAQKZ,gBAAU,6DALtB,gEAAU;AACPoB,gBAAQ,EAAE,YADH;AAEPC,gBAAQ,EAAR,oEAFO;;AAAA,OAAV,CAKsB,GAAVrB,UAAU,CAAV;;;;;;;;;;;;;;;;ACTb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIf,UAAMsB,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,uBAAuB;AAAA;AAAA,O;;AAAvBA,6BAAuB,6DAJnC,+DAAS;AACR3B,eAAO,EAAE,CAAC,6DAAa4B,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERK,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAImC,GAAvBF,uBAAuB,CAAvB;;;;;;;;;;;;;;;;ACfb;AAAe;;;AAAA","file":"signin-signin-module-es5.js","sourcesContent":["import {IonicModule} from '@ionic/angular';\nimport {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {SigninPage} from './signin.page';\nimport {SigninPageRoutingModule} from \"./signin-routing.module\";\n\n@NgModule({\n    imports: [\n        IonicModule,\n        CommonModule,\n        FormsModule,\n        SigninPageRoutingModule\n    ],\n    declarations: [SigninPage]\n})\nexport class SigninPageModule {\n}\n","import {Component, OnInit} from '@angular/core';\nimport {FidjService} from 'fidj';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-signin',\n    templateUrl: 'signin.page.html',\n    styleUrls: ['signin.page.scss']\n})\nexport class SigninPage implements OnInit {\n\n    userLoginEmail: any;\n    userLoginPassword: any;\n    asUser: boolean;\n    loginError: string;\n\n    constructor(\n        private router: Router,\n        private fidjService: FidjService\n    ) {\n        this.asUser = true;\n    }\n\n    ngOnInit() {\n        if (this.fidjService.isLoggedIn()) {\n            return this.router.navigateByUrl('/my');\n        } else {\n            console.log('not logged in');\n        }\n    }\n\n    async login(email, pwd) {\n        this.loginError = '';\n        try {\n            await this.fidjService.login(email, pwd);\n            await this.router.navigateByUrl('/my');\n        } catch (err) {\n            this.loginError = 'Bad credentials';\n            console.error(JSON.stringify(err, Object.getOwnPropertyNames(err)));\n        }\n    }\n\n    async loginAsDemo() {\n        try {\n            await this.fidjService.loginAsDemo();\n            await this.router.navigateByUrl('/my');\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    async profileChanged(event) {\n        this.asUser = !this.asUser;\n    }\n\n    async forgot(email: string) {\n        if (!email) {\n            this.loginError = 'Please set your email in order to receive the new password.';\n        }\n\n        try {\n            await this.fidjService.forgotPasswordRequest(email);\n            this.loginError = '';\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n}\n","export default \"h1 {\\n  font-size: 2em;\\n  color: #bb971f;\\n}\\n\\nh2 {\\n  font-size: 1.2em;\\n  color: #adaaa2;\\n}\\n\\nion-card-header {\\n  white-space: normal;\\n  text-align: center;\\n}\\n\\nion-card-content {\\n  text-align: center;\\n}\\n\\nion-item-divider {\\n  text-align: center;\\n}\\n\\nion-item-divider ion-label {\\n  width: 100%;\\n}\\n\\nion-item-group {\\n  white-space: normal;\\n  text-align: center;\\n  padding-top: 2em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2lnbmluL3NpZ25pbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxjQUFBO0VBQ0EsY0FBQTtBQURGOztBQUlBO0VBQ0UsZ0JBQUE7RUFDQSxjQUFBO0FBREY7O0FBSUE7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0FBREY7O0FBSUE7RUFDRSxrQkFBQTtBQURGOztBQUlBO0VBQ0Usa0JBQUE7QUFERjs7QUFHRTtFQUNFLFdBQUE7QUFESjs7QUFLQTtFQUNFLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQUZGIiwiZmlsZSI6InNyYy9hcHAvc2lnbmluL3NpZ25pbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcblxuaDEge1xuICBmb250LXNpemU6IDJlbTtcbiAgY29sb3I6ICNiYjk3MWY7XG59XG5cbmgyIHtcbiAgZm9udC1zaXplOiAxLjJlbTtcbiAgY29sb3I6ICNhZGFhYTI7XG59XG5cbmlvbi1jYXJkLWhlYWRlciB7XG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWNhcmQtY29udGVudCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuaW9uLWl0ZW0tZGl2aWRlciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBpb24tbGFiZWwge1xuICAgIHdpZHRoOiAxMDAlO1xuICB9XG59XG5cbmlvbi1pdGVtLWdyb3VwIHtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nLXRvcDogMmVtO1xufVxuXG5cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { SigninPage } from './signin.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SigninPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class SigninPageRoutingModule {}\n","export default \"<ion-content>\\n    <ion-grid>\\n        <ion-row>\\n            <ion-col size-md=\\\"8\\\" offset-md=\\\"2\\\" size-sm=\\\"12\\\">\\n                <ion-card>\\n                    <ion-card-header>\\n                      <h1>sandbox-app </h1>\\n                      <p>Welcome in FIDJ Test App</p>\\n                    </ion-card-header>\\n                    <ion-card-content>\\n                        <form #heroForm=\\\"ngForm\\\" (ngSubmit)=\\\"login(userLoginEmail, userLoginPassword)\\\"\\n                              (keyup.enter)=\\\"login(userLoginEmail, userLoginPassword)\\\">\\n                            <ion-item [hidden]=\\\"!loginError\\\">\\n                                <ion-label color=\\\"danger\\\">{{loginError}}</ion-label>\\n                            </ion-item>\\n                            <ion-item>\\n                                <ion-input\\n                                        id=\\\"userLoginEmail\\\"\\n                                        type=\\\"text\\\" placeholder=\\\"valid.email@required.com\\\" required\\n                                        [(ngModel)]=\\\"userLoginEmail\\\" name=\\\"userLoginEmail\\\"\\n                                        pattern=\\\".{1,}@[_a-z0-9A-Z]+(\\\\.[a-z0-9A-Z]+)+\\\"\\n                                ></ion-input>\\n                            </ion-item>\\n                            <ion-item>\\n                                <ion-input\\n                                        id=\\\"userLoginPassword\\\"\\n                                        type=\\\"password\\\" placeholder=\\\"password\\\"\\n                                        [(ngModel)]=\\\"userLoginPassword\\\" name=\\\"userLoginPassword\\\"\\n                                        required></ion-input>\\n                            </ion-item>\\n\\n              <div style=\\\"padding-top:20px\\\">\\n                <ion-button color=\\\"medium\\\"\\n                            id=\\\"userLoginButton\\\"\\n                            (click)=\\\"login(userLoginEmail, userLoginPassword)\\\"\\n                            [disabled]=\\\"!userLoginEmail || !heroForm.form.valid || !userLoginPassword\\\">\\n                  Login\\n                </ion-button>\\n                <ion-button color=\\\"medium\\\" fill=\\\"clear\\\"\\n                            (click)=\\\"loginAsDemo()\\\">\\n                  Enter anonymously\\n                </ion-button>\\n              </div>\\n            </form>\\n          </ion-card-content>\\n        </ion-card>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <span style=\\\"float:right;font-size:10px;\\\">version: 21.5.31</span>\\n\\n</ion-content>\\n\";"]}